{%extends 'inv/sidebar.html'%}
{%load bootstrap%}

{%block content%}
<div class="container">
  <div class="row">
    <div class="col-10">

      <hr class="my-4">
<nav>

  <ol class="breadcrumb">
        <li class="breadcrumb-item"><a href="{%url 'admin_dashboard'%}">Dashboard</a></li>
        <li class="breadcrumb-item active" aria-current="page">Purchases </li>
        <li class="breadcrumb-item"><a href="{%url 'purchase_insert'%}">Add New Purchase</a></li>
       
 
  </ol>
</nav>
  {%for message in messages%}
              <h3>{{message}}</h3>
            {%endfor%}

 <hr class="my-4">
     <h1 class="display-4">Purchases </h1>
                <p class="lead font-italic">List of purchases</p>
                <hr>

      <div class="card" >

        {% if list %}
            <div class="table-responsive-sm">
            <table id="example" class="table table-bordered  table-hover table-sm ">
                        <thead class="thead-dark">
                                <tr>
                                        <th></th>
                                        <th>PO</th>
                                        <th>Item</th>
                                        <th>Vendor</th>
                                        <th>Quantity</th>
                                        <th>Price</th>
                                        <th>Total Price</th>
                                       
                                        <th><button><a  href=" {%url 'purchase_insert'%}" ><i class="fa fa-plus-circle" ></i>Add New</a></button></th>
                                        </tr>
                        </thead>
                        <tbody>
                            {% for instance in list %}
                            <tr>
                            <th scope="row">{{forloop.counter}}</th>
                            <td><a href="{%url 'purchase_view' instance.id %}">{{instance.po}}</a></td>
                            <td>{{instance.item}}</a></td>
                            <td>{{instance.vendor}}</a></td>
                            <td>{{instance.purchased_qty}}</td>
                            <td>{{instance.price}}</td>
                            <td>{{instance.total_price}}</td>
                          
                            
                            
       
                            <td><a href="{%url 'purchase_view' instance.id %}"><i class="fa fa-eye" aria-hidden="true"></i></a>
                                <a href="{% url 'purchase_update' instance.id %}"><i class="fa fa-pencil-square-o" aria-hidden="true"></i></a>
                                <form action="{% url 'purchase_delete' instance.id %}" method="POST" class="d-inline"
                                autocomplete="off" autocapitalize="characters">
                                  
                                   {%csrf_token%}
                               <button type="submit" class="btn">
                               <a href="#" onclick="return confirm('Are you sure you want to delete {{instance.name}} ?');"><i class="fa fa-trash" aria-hidden="true"></i></a>
                               </button></form>

                            </td>
                            </tr>
                            {% endfor %}
                    </tbody>
                </table>
                </div>
                {% else %}
                        <p>No details are available.</p>
                        <div>
                        <button><a  href=" {%url 'purchase_insert'%}" ><i class="fa fa-plus-circle" ></i>Add New</a></button>
                         </div>
                {% endif %}
    </div>
     <hr class="my-4">
     <button><i class="fa fa-filter" aria-hidden="true"></i>hide</button>
    </div>
    
   
         <hr class="my-4">
    </div>
    
  </div>
  <div> <div class="col-2">
    <button>filter</button>
    <div>
    <p class="lead font-italic">Filter</p>
    </div>
         <form action="" method="GET" class="d-inline" autocomplete="off" autocapitalize="characters">
                
                   {{myFilter.form|bootstrap}}
                <button type="submit" class="btn btn-primary" value="Search">Filter</button>
              
                
        </form></div>
 
 <script >
let btn = document.querySelector('button');
let div = document.querySelector('div');

btn.addEventListener('click', () => {
    if (div.style.display == 'none') {
        div.style.display = 'block';
    } else {
        div.style.display = 'none';
    }
})
 </script>
</div>


{%endblock%}

